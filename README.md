<p align="center">
    <a href="https://github.com/yiisoft" target="_blank">
        <img src="https://avatars0.githubusercontent.com/u/993323" height="100px">
    </a>
    <h1 align="center">Заготовка для простой CMS на основе Yii 2 Basic Template</h1>
    <br>
</p>

Зависимости
------------
Минимальная версия php - 7.1, база данных - MySql

Особенности
------------
1. Данная CMS изначально спроектирована для работы с несколькими сайтами в рамках одного web приложения. Т.е. одна админ панель для нескольких сайтов с похожим функционалом (multiSite).
2. Реализовано разделение на слои. Основной рабочий код в каталоге core. Репозитории работают только с БД, модели форм отвечают только за формы, сервисы работают с контроллерами. Вся логика приложения только в сервисах, которые или возвращают результат контроллеру, или выкидывают исключения.
3. В основе работы приложения лежит паттерн DI. Зависимости описаны в файле config/bootstrap/SetUp.php

Установка
------------
<code>composer create-project ale10257/multi-site-cms my-directory</code>

Начало работы
------------
1. В каталоге с приложением переименовать файл config/db-test.php в config/db.php, прописать параметры подключения к базе данных MySql, и последовательно выполнить команды:

   <code>php yii migrate</code>

   <code>php yii init</code>
   
   При инициализации приложения будет предложено ввести логин, пароль, email для суперпользователя с ролью root
   
2. Создать тестовый домен, например, test.loc, в качестве корневой директории прописать /path/your/application/web/startSite. После инициализации перейти по адресу: test.loc/admin/login, и залогиниться в админке.

